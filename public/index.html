<!DOCTYPE html>
<html lang="fr" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Étude Biblique — 28 points (modèle strict)</title>

  <!-- Tailwind (build local) -->
  <!-- Si ton CSS est construit dans /public/dist/output.css, utilise /dist/output.css -->
  <link rel="stylesheet" href="/dist/output.css" />

  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <style>
    :root{
      --c50:#eef2ff;--c100:#e0e7ff;--c200:#c7d2fe;--c600:#4f46e5;--c700:#4338ca;--c800:#3730a3;
      --ok:#10b981;--err:#ef4444;--ink:#0f172a;
    }
    html,body{height:100%}
    body{background:#f7f8ff;color:var(--ink)}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem 1rem;border-radius:.8rem;background:var(--c600);color:#fff;font-weight:600}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .btn.sec{background:#fff;color:var(--c700);border:1px solid var(--c200)}
    .field{display:flex;flex-direction:column;gap:.35rem}
    .label{font-size:.9rem;color:#334}
    .input, .select, .textarea{border:1px solid #e5e7eb;border-radius:.75rem;padding:.65rem .8rem;background:#fff}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .grid-3{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}
    .card{background:#fff;border:1px solid #eef2ff;border-radius:1rem;box-shadow:0 6px 20px rgba(67,56,202,.06)}
    .card-h{padding:1rem 1.2rem;border-bottom:1px solid #eef2ff;font-weight:700}
    .card-b{padding:1rem 1.2rem}
    /* Progress */
    #progressContainer{display:none;position:fixed;left:0;right:0;top:0;height:4px;background:#eef2ff;z-index:50}
    #progressBar{height:100%;width:0;background:var(--c700);transition:width .2s ease}
    /* Toasts */
    #toasts{position:fixed;right:1rem;bottom:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:60}
    .toast{background:#111827;color:#fff;padding:.6rem .8rem;border-radius:.7rem;box-shadow:0 6px 20px rgba(0,0,0,.2)}
    /* Sections */
    .section{border:1px solid #eef2ff;border-radius:.9rem;margin-bottom:.8rem}
    .section-h{padding:.8rem 1rem;background:var(--c50);font-weight:600;border-bottom:1px solid #eef2ff}
    .section-b{padding:1rem}
  </style>
</head>

<body class="h-full">
  <noscript>Activez JavaScript pour utiliser l’application.</noscript>

  <!-- Barre de progression -->
  <div id="progressContainer"><div id="progressBar"></div></div>
  <!-- Toasts -->
  <div id="toasts" aria-live="polite"></div>

  <header class="max-w-6xl mx-auto px-4 pt-8 pb-4">
    <h1 class="text-2xl md:text-3xl font-bold text-slate-900">Étude Biblique — 28 points</h1>
    <p class="text-slate-600 mt-1">Conserve la même interface, avec génération automatique des rubriques.</p>
  </header>

  <main class="max-w-6xl mx-auto px-4 pb-20">
    <!-- Bandeau actions -->
    <div class="flex flex-wrap gap-2 mb-4">
      <button id="btnGenerate" class="btn">Générer</button>
      <button id="btnCopy" class="btn sec">Copier</button>
      <button id="btnExport" class="btn sec">Exporter</button>
      <button id="btnReset" class="btn sec">Réinitialiser</button>
    </div>

    <!-- Formulaire haut (mêmes champs) -->
    <div class="card mb-6">
      <div class="card-h">Paramètres de l’étude</div>
      <div class="card-b">
        <div class="grid-3">
          <div class="field">
            <label class="label" for="book">Livre biblique</label>
            <input id="book" class="input" placeholder="Ex. Genèse" />
          </div>
          <div class="field">
            <label class="label" for="chapter">Chapitre / passage</label>
            <input id="chapter" class="input" placeholder="Ex. 1" />
          </div>
          <div class="field">
            <label class="label" for="title">Titre du chapitre — résumé doctrinal</label>
            <input id="title" class="input" placeholder="Votre titre" />
          </div>
        </div>

        <div class="grid-2 mt-4">
          <div class="field">
            <label class="label" for="keyverse">Verset-clé</label>
            <input id="keyverse" class="input" placeholder="Référence (ex. Jn 3:16)" />
          </div>
          <div class="field">
            <label class="label" for="keywords">Mots-clés</label>
            <input id="keywords" class="input" placeholder="Séparés par des virgules" />
          </div>
        </div>

        <div class="field mt-4">
          <label class="label" for="notes">Notes brèves (optionnel)</label>
          <textarea id="notes" class="textarea" rows="3" placeholder="Contexte, objectifs…"></textarea>
        </div>
      </div>
    </div>

    <!-- Sélecteur rapide (mêmes boutons/raccourcis possibles via JS) -->
    <div class="flex flex-wrap gap-2 mb-6" id="quickActions">
      <!-- Tes boutons rapides se branchent ici depuis app.js -->
      <!-- Exemple : <button class="btn sec" data-action="add-point" data-id="Analyse exégétique">+ Analyse exégétique</button> -->
    </div>

    <!-- Sortie : sections générées dynamiquement -->
    <div id="sections" class="mb-10">
      <!-- app.js injectera ici les 28 sections/rubriques en conservant les intitulés de POINTS -->
    </div>

    <!-- Aperçu/Export Markdown (si ton app l’utilise) -->
    <div id="exportArea" class="card" hidden>
      <div class="card-h">Export Markdown</div>
      <div class="card-b">
        <textarea id="markdownOutput" class="textarea" rows="12" readonly></textarea>
      </div>
    </div>
  </main>

  <!-- Important : charger le JS correctement -->
  <!-- Si ton fichier est à public/app.js, sur Vercel il est servi à /app.js -->
  <script src="/app.js" defer></script>
</body>
</html>
